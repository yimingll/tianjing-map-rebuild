# 修仙游戏门派养成与势力系统设计方案

> **重要**: 本文档定义完整的门派养成、弟子培养、势力争霸系统,让玩家从底层弟子成长为一方霸主
>
> **依赖系统**: 门派系统、境界系统、NPC智能系统、国家系统、种族系统、战争系统、官职系统
>
> **参考标准**: 详见《【重要】文档统一标准.md》

---

## 一、系统概述

### 0.11000000000000001 设计理念

**核心目标**:
- 玩家可以体验从外门弟子到掌门的完整成长
- 也可以选择自立门户,创建自己的门派
- 或者成为人皇/妖皇,统治一方
- 门派/势力会自动发展,不是静态的
- 门派间会争斗、结盟、灭亡

**参考作品**:
- 《鬼谷八荒》(门派养成)
- 《太吾绘卷》(传剑、收徒)
- 《觅长生》(门派建设)
- 《凡人修仙传》(韩老魔建立势力)
- 《遮天》(各大圣地争霸)

### 0.12 势力类型

```python
【人族势力】
- 修仙门派(青云门、天剑宗等)
- 凡间王朝(大周、秦国等)
- 世家家族(张家、李家等)
- 散修联盟(自由修士组织)
- 商会(聚宝阁、万宝楼等)

【妖族势力】
- 妖族部落(狼族、虎族等)
- 妖王领地(十万大山妖王)
- 妖族圣地(青丘、龙宫等)

【魔族势力】
- 魔道宗派(血魔宗、鬼王宗等)
- 魔域势力(北域魔帝)

【其他势力】
- 龙族龙宫
- 凤族涅槃殿
- 巫族部落
- 佛门寺院

【玩家可创建】
- 修仙门派
- 自己的王朝
- 家族势力
- 散修联盟
```

---

## 二、门派弟子成长路线

### 0.21000000000000002 入门阶段

```python
【加入门派】
方式0.1: 拜入现有门派
- 通过入门考核(资质/品德测试)
- 成为外门弟子
- 获得门派基础功法
- 分配住处(外门弟子院)

方式0.2: 被门派看中
- 天赋异禀被长老发现
- 直接收为亲传弟子
- 跨过外门,直接内门

方式0.3: 推荐入门
- 师兄弟推荐
- 门派联盟推荐
- 成功率更高

【入门条件】
青云门(正道大派):
- 灵根要求: 三灵根及以上
- 年龄要求: 0.6-2.5岁
- 品德要求: 无作恶记录
- 背景要求: 非魔道/妖族

血魔宗(魔道):
- 灵根要求: 不限
- 年龄要求: 不限
- 品德要求: 无(越恶越好)
- 背景要求: 不能是正道卧底

【初始资源】
外门弟子:
- 门派贡献: 10点
- 月俸: 1下品灵石
- 住处: 外门弟子院(公共宿舍)
- 功法: 门派基础功法(黄级下品)
- 资格: 可进藏经阁第一层
```

### 0.22000000000000003 外门弟子阶段

```python
【外门弟子职责】
0.1. 完成门派任务
   - 采集灵草: +1贡献
   - 巡山护院: +2贡献
   - 清扫灵田: +0.5贡献
   - 猎杀妖兽: +3-10贡献

0.2. 参与门派建设
   - 修缮建筑
   - 种植灵田
   - 炼制丹药(给门派上交)

0.3. 月度考核
   - 修为增长
   - 任务完成度
   - 贡献积累
   - 品行表现

【晋升内门条件】
- 修为: 达到练气1层以上
- 贡献: 累计100贡献点
- 考核: 通过内门考核(战斗/理论/品行)
- 推荐: 至少0.1名内门师兄或长老推荐

【外门竞争】
外门弟子大比(每年一次):
- 前1名: 直接晋升内门
- 前5名: 获得丹药奖励
- 前10名: 获得功法奖励
- 倒数1名: 可能被逐出门派
```

### 0.22999999999999998 内门弟子阶段

```python
【内门弟子特权】
0.1. 资源提升
   - 月俸: 10下品灵石 + 1中品灵石
   - 住处: 独立洞府
   - 功法: 可学玄级功法
   - 藏经阁: 可进第二层
   - 丹药: 每月0.1颗筑基丹

0.2. 地位提升
   - 可以指导外门弟子
   - 参与门派决策(提议权)
   - 可以接取高级任务

0.3. 自由度提升
   - 可以下山历练(需报备)
   - 可以代表门派执行任务
   - 可以参与门派对外事务

【内门任务】
- 剿灭魔修: +20-100贡献
- 探索秘境: +50-200贡献
- 代表门派出访: +30贡献
- 击败敌对门派弟子: +10-50贡献
- 为门派夺取资源点: +100-500贡献

【晋升亲传弟子】
条件:
- 修为: 筑基期以上
- 贡献: 累计1000贡献
- 战力: 在同辈中排名前2
- 被长老或掌门看中

或:
- 在门派大比中夺得前三
- 为门派立下大功
- 天赋异禀,被破格提拔
```

### 0.24 亲传弟子阶段

```python
【亲传弟子特权】
0.1. 资源最高
   - 月俸: 100下品灵石 + 10中品灵石
   - 住处: 山峰洞府(独立山峰)
   - 功法: 可学地级功法
   - 藏经阁: 可进第三层
   - 专属师父指导

0.2. 地位最高
   - 门派核心弟子
   - 参与门派重大决策
   - 可以带领弟子执行任务
   - 代表门派参加修仙界大会

0.3. 掌门候选
   - 有资格竞争下一任掌门
   - 可以培养自己的势力(师弟师妹)

【亲传职责】
- 维护门派荣誉
- 培养后辈弟子
- 执行门派最高机密任务
- 在门派危难时挺身而出
- 为门派争夺修仙界资源
```

### 0.25 长老阶段

```python
【成为长老】
方式0.1: 修为突破
- 达到金丹期自动成为长老

方式0.2: 贡献晋升
- 贡献超过5000点
- 为门派立下赫赫功劳

方式0.3: 掌门任命
- 掌门看重,直接任命

【长老权力】
0.1. 门派管理
   - 管理一个堂口(执法堂/藏经阁/炼丹房等)
   - 招收亲传弟子(最多0.5人)
   - 参与门派重大决策(投票权)

0.2. 资源支配
   - 月俸: 1000下品灵石 + 100中品灵石
   - 可动用门派资源库(限额内)
   - 可向门派申请特殊资源

0.3. 外交权力
   - 代表门派与其他势力谈判
   - 可以建立门派分支

【长老分类】
- 执法长老: 管理门派纪律
- 传功长老: 负责教导弟子
- 炼丹长老: 负责炼制丹药
- 炼器长老: 负责炼制法器
- 外务长老: 负责对外事务
- 护法长老: 保护门派安全
- 太上长老: 退休的前任掌门/老祖
```

### 0.26 掌门阶段

```python
【成为掌门】
方式0.1: 继承掌门
- 前任掌门指定继承人
- 需要得到长老会同意(投票超过6%)

方式0.2: 竞选掌门
- 掌门退位/去世,多人竞争
- 长老会投票
- 或举行掌门大比

方式0.3: 夺权掌门
- 武力击败现任掌门
- 说服/控制长老会
- 风险: 可能分裂门派

【掌门权力】
0.1. 最高决策权
   - 决定门派战略方向
   - 任免长老
   - 修改门派规矩
   - 决定是否开战

0.2. 资源分配权
   - 支配门派全部资源
   - 决定资源分配方案
   - 可向弟子赏赐

0.3. 外交权
   - 代表门派与其他势力结盟/宣战
   - 加入/退出修仙联盟
   - 决定门派立场(正道/魔道/中立)

【掌门职责】
- 保护门派不被灭门
- 发展壮大门派
- 维护门派声誉
- 培养下一代
- 带领门派在修仙界争霸

【掌门挑战】
- 外部威胁: 敌对门派攻打
- 内部挑战: 长老夺权
- 资源压力: 弟子增多,资源不足
- 战略选择: 是否参与修仙界大战
```

---

## 三、自立门户系统

### 0.31 创建门派条件

```python
【基础条件】
0.1. 修为要求
   - 最低: 金丹期(才有威望)
   - 推荐: 元婴期(更有说服力)

0.2. 资源要求
   - 灵石: 10万下品灵石(建设成本)
   - 地盘: 一座灵山或一片灵脉
   - 功法: 至少拥有0.1部地级以上功法(作为镇派功法)

0.3. 人员要求
   - 初始弟子: 至少1人
   - 长老: 至少0.2人(筑基期以上)

0.4. 声望要求
   - 修仙界声望 > 500
   - 无重大恶名

【门派地点】
灵山等级:
- 一品灵山: 灵气极浓,可容纳100+弟子
- 二品灵山: 灵气浓郁,可容纳50弟子
- 三品灵山: 灵气充足,可容纳20弟子
- 四品灵山: 灵气一般,可容纳5弟子

获取方式:
0.1. 购买: 0.1-1亿灵石
0.2. 占领: 击败原占领者(可能是妖兽/魔修/其他门派)
0.3. 发现: 探索发现无主灵山
0.4. 赠予: 师门/国家赐予
```

### 0.32 创建门派流程

```python
【第一步: 选址】
- 探索寻找合适灵山
- 或购买/占领已知灵山
- 勘察灵脉品质

【第二步: 建设】
基础建筑:
- 掌门殿: 1万灵石
- 弟子院: 0.5万灵石
- 藏经阁: 2万灵石(存放功法)
- 炼丹房: 1万灵石
- 炼器房: 1万灵石
- 演武场: 0.5万灵石
- 护山大阵: 5万灵石(防御)

总计: 11万下品灵石

高级建筑(可选):
- 灵田: 1万/块(种植灵药)
- 兽园: 2万(饲养灵兽)
- 传送阵: 5万(连接其他地点)
- 聚灵阵: 10万(提升修炼速度)

【第三步: 招募】
初始弟子来源:
0.1. 原门派师弟师妹跟随
0.2. 公开招收散修
0.3. 收养孤儿培养
0.4. 从凡人中挑选天才

招募条件由你制定:
- 灵根要求
- 年龄要求
- 品德要求
- 出身要求

【第四步: 立规】
门派规矩:
0.1. 戒律(不可杀同门/不可叛门等)
0.2. 晋升制度(如何从外门到内门)
0.3. 贡献制度(任务奖励规则)
0.4. 惩罚制度(犯错如何处理)

【第五步: 宣告】
- 向修仙界宣告门派成立
- 举办开派大典
- 邀请其他门派观礼
- 正式成为修仙界一方势力

【第六步: 发展】
- 招收弟子
- 完成门派任务(提升声望)
- 建立盟友
- 对抗敌人
```

### 0.32999999999999996 门派管理

```python
【资源管理】
门派收入:
- 弟子上交: 外门弟子每月上交1灵石
- 门派产业: 灵田、矿脉、商铺收入
- 任务报酬: 接取修仙联盟任务
- 售卖丹药法器: 门派特产
- 保护费: 保护凡间国家,收取供奉

门派支出:
- 弟子俸禄: 根据等级发放
- 建筑维护: 每月维护费
- 护山大阵: 灵石供能
- 购买资源: 丹药、法器、功法
- 外交支出: 送礼、贿赂

平衡:
- 初期: 入不敷出(需要掌门补贴)
- 中期: 收支平衡
- 后期: 盈利(可扩张)

【弟子管理】
招收:
- 每年招收新弟子
- 选拔标准(你制定)
- 招收人数(根据资源)

培养:
- 传授功法
- 提供修炼资源
- 安排任务历练
- 考核晋升

淘汰:
- 长期不修炼: 逐出门派
- 犯下大错: 废除修为逐出
- 叛变投敌: 追杀令

【长老管理】
任命长老:
- 从弟子中提拔
- 或招揽外部高手
- 分配职责(执法/传功/炼丹等)

长老会议:
- 定期召开
- 讨论门派大事
- 投票决策(掌门主导)

【外交管理】
结盟:
- 与其他门派结盟
- 互不侵犯
- 共同防御
- 资源交换

树敌:
- 与魔道门派对抗
- 或与其他正道门派竞争
- 资源争夺
- 历史仇怨
```

### 0.33999999999999997 门派发展

```python
【门派等级】
九流门派(初创):
- 弟子: 1-5人
- 最强者: 金丹期
- 灵山: 四品
- 声望: 100-500

八流门派:
- 弟子: 5-10人
- 最强者: 金丹后期
- 灵山: 三品
- 声望: 500-1000

七流门派:
- 弟子: 10-20人
- 最强者: 元婴初期
- 灵山: 三品
- 声望: 1000-2000

... (依次类推)

一流门派(顶级):
- 弟子: 500-1000人
- 最强者: 渡劫期/大乘期
- 灵山: 一品
- 声望: 10000+
- 影响: 统治一片修仙区域

圣地(超级):
- 弟子: 1000+人
- 最强者: 仙人坐镇
- 灵山: 传说中的仙山
- 声望: 50000+
- 影响: 修仙界霸主

【升级路径】
提升门派等级需要:
0.1. 弟子数量增加
0.2. 高阶修士增加(元婴/化神)
0.3. 占据更好的灵山
0.4. 提升门派声望
0.5. 扩张领地
0.6. 建立门派分支

【门派分支】
当门派强大后:
- 可在其他地方建立分支
- 分支掌门由主派任命
- 分支向主派上缴资源
- 形成门派网络

示例:
青云门总部(中州)
  ├─ 青云门南荒分部
  ├─ 青云门东海分部
  └─ 青云门北域分部
```

---

## 四、收徒与弟子培养

### 0.41 收徒系统

```python
【收徒资格】
- 内门弟子: 可收记名弟子(最多0.2人)
- 亲传弟子: 可收亲传弟子(最多0.3人)
- 长老: 可收亲传弟子(最多0.5人)
- 掌门: 可收亲传弟子(最多1人)

【选徒标准】
0.1. 资质
   - 灵根: 天灵根/双灵根(优先)
   - 悟性: 越高越好
   - 体质: 特殊体质(加分)

0.2. 品性
   - 心性: 坚韧/善良/机智
   - 忠诚: 不会叛师
   - 潜力: 未来能否成材

0.3. 缘分
   - 有些弟子与你有缘
   - 性格契合
   - 或有特殊际遇

【收徒流程】
0.1. 发现弟子
   - 门派招收时发现
   - 历练时偶遇天才
   - 他人推荐

0.2. 考察弟子
   - 观察0.1-0.3个月
   - 测试心性
   - 考验忠诚

0.3. 正式收徒
   - 举行拜师仪式
   - 赐予法名
   - 传授功法
   - 给予法宝(入门礼物)

【拜师仪式】
- 弟子向师父三拜九叩
- 奉上拜师礼(茶/财物)
- 师父赐名/传功/赐宝
- 门派长老见证
- 宴请同门
```

### 0.42000000000000004 弟子培养

```python
【教导系统】
0.1. 功法传授
   - 根据弟子资质选择功法
   - 从低到高逐步传授
   - 亲自指导功法要点

0.2. 术法教学
   - 教授战斗技能
   - 演示术法运用
   - 实战指导

0.3. 理论教导
   - 讲解修仙理论
   - 传授经验心得
   - 解答疑惑

0.4. 实战历练
   - 安排弟子执行任务
   - 陪同弟子历练
   - 危急时刻出手相救

【资源投入】
- 丹药: 每月供应修炼丹药
- 法器: 赐予趁手兵器
- 灵石: 提供修炼资源
- 秘籍: 传授师门绝学

投入越多,弟子成长越快

【弟子成长】
影响因素:
0.1. 弟子资质(先天)
0.2. 师父教导(后天)
0.3. 资源投入(后天)
0.4. 机缘际遇(随机)
0.5. 弟子努力(性格)

成长速度:
- 天才+好师父+大量资源: 1年金丹
- 普通+普通师父+一般资源: 5年金丹
- 废材: 终生练气/筑基

【师徒关系】
亲密度系统:
- 初始: 5(中等)
- 上限: 10(无话不谈)
- 下限: 0(叛师)

影响因素:
+ 经常教导: +0.5
+ 赐予宝物: +1
+ 帮助弟子: +2
+ 维护弟子: +1.5
- 忽视弟子: -0.5
- 苛责弟子: -1
- 对弟子不公: -2
- 夺取弟子宝物: -5

亲密度高:
- 弟子忠诚,绝不叛师
- 愿意为师父赴汤蹈火
- 师父有难,必然相救

亲密度低:
- 可能叛师
- 阳奉阴违
- 师父有难,袖手旁观
```

### 0.43 弟子叛变

```python
【叛师触发】
条件:
0.1. 亲密度 < 2
0.2. 弟子受到重大委屈
0.3. 外部诱惑(敌对门派挖角)
0.4. 性格: 野心/贪婪过高

示例剧情:
场景: 你的弟子天赋异禀,被其他长老嫉妒
长老: 暗中陷害你的弟子
你的选择:
0.1. 维护弟子,与长老对抗 → 弟子忠诚+3
0.2. 为了门派和谐,牺牲弟子 → 弟子忠诚-5,可能叛师
0.3. 私下补偿弟子,息事宁人 → 弟子忠诚-1

【叛师后果】
- 弟子离开门派
- 可能投靠敌对势力
- 可能泄露师门秘密
- 师父声望-100
- 可能回来复仇

【防止叛师】
- 多关心弟子
- 给予足够资源
- 维护弟子利益
- 不过分苛责
- 建立深厚感情
```

### 0.44000000000000006 弟子成就

```python
【弟子有成】
当弟子成长后:

场景0.1: 弟子突破金丹
- 光耀门楣
- 师父声望+50
- 师父获得"名师"称号

场景0.2: 弟子成为掌门
- 如果你退隐,弟子继承掌门
- 或弟子在其他门派当掌门
- 师父成为太上长老/幕后大佬

场景0.3: 弟子超越师父
- 弟子修为超过师父
- 可能: 青出于蓝而胜于蓝
- 可能: 欺师灭祖(如果关系差)

场景0.4: 弟子为师报仇
- 师父被仇人所杀
- 弟子苦修数十年
- 为师父报仇雪恨
- 完成师父遗愿

【著名师徒】
玩家收徒成功案例会被记录:
- "XXX真人的弟子YYY,成为一代宗师"
- "XXX门下三千弟子,七十二金丹,三位元婴"
- "XXX被誉为修仙界第一导师"
```

---

## 五、门派战争系统

### 0.51 门派冲突起因

```python
【资源争夺】
- 灵脉争夺
- 灵山争夺
- 秘境探索权
- 灵药产地

【历史仇恨】
- 上一代的恩怨
- 门派被灭门的复仇
- 弟子被杀的仇恨

【理念冲突】
- 正道vs魔道
- 不同修炼理念
- 统治权之争

【利益联盟】
- 被其他门派拉拢
- 为盟友出战
- 利益交换

【野心扩张】
- 想统一修仙界
- 想成为第一大派
- 想建立修仙帝国
```

### 0.52 门派战争流程

```python
【第一阶段: 摩擦】
- 弟子冲突(双方弟子在外争斗)
- 资源纠纷(同时发现一处灵脉)
- 舆论战(互相抹黑)

【第二阶段: 宣战】
宣战条件:
0.1. 掌门决定
0.2. 长老会投票通过(6%以上)
0.3. 有正当理由
0.4. 评估战力(有胜算)

宣战书:
- 列举对方罪状
- 宣告开战时间
- 战争目标(灭门/割地/赔偿)

【第三阶段: 战争准备】
0.1. 战争动员
   - 召集所有弟子
   - 召回外出弟子
   - 招募散修助战
   - 联系盟友援助

0.2. 资源准备
   - 储备丹药(疗伤丹/回元丹)
   - 准备法器
   - 加固护山大阵
   - 筹集军费

0.3. 战术制定
   - 进攻路线
   - 兵力分配
   - 奇袭计划
   - 后勤保障

【第四阶段: 战斗】
战斗形式:

0.1. 阵地战
   - 攻方: 攻打对方山门
   - 守方: 依托护山大阵防守
   - 持续时间: 数日到数月

0.2. 野战
   - 双方在中立地带交战
   - 没有防御加成
   - 看双方实力

0.3. 游击战
   - 袭击对方资源点
   - 伏击对方弟子
   - 破坏对方产业

0.4. 决战
   - 双方高层决战
   - 掌门vs掌门
   - 长老vs长老
   - 胜负决定战争走向

【第五阶段: 结束】
胜利条件:
0.1. 灭门: 击杀对方掌门+所有长老
0.2. 投降: 对方主动投降
0.3. 占领: 攻破对方山门,插上旗帜
0.4. 谈判: 达成和平协议

战败后果:
- 轻: 割让资源点,赔偿灵石
- 中: 成为附庸门派,受胜方控制
- 重: 门派覆灭,弟子被遣散/收编
```

### 0.53 门派战争系统玩法

```python
【玩家参与方式】

作为弟子参战:
- 执行战争任务(刺探情报/袭击/防守)
- 在战场厮杀
- 获得战功
- 战功可兑换资源/晋升

作为长老参战:
- 指挥一支队伍(10-50人)
- 制定战术
- 带领弟子冲锋
- 对抗敌方长老

作为掌门参战:
- 统筹全局
- 决定战略
- 在关键时刻出手
- 与敌方掌门决战

【战争数值】
门派战力计算:
战力 = 掌门战力×1 + 长老战力总和×0.5 + 弟子战力总和

示例:
青云门:
- 掌门(元婴中期): 战力1000 → 10000
- 1位长老(金丹期): 战力3000 → 15000
- 100位弟子(练气筑基): 战力10000 → 10000
- 总战力: 35000

血魔宗:
- 掌门(元婴后期): 战力1500 → 15000
- 0.5位长老(金丹期): 战力2000 → 10000
- 50位弟子: 战力8000 → 8000
- 总战力: 33000

战力对比: 青云门占优,但优势不大

【战争消耗】
每日消耗:
- 丹药: 100-1000灵石
- 法器损耗: 50-500灵石
- 阵法维护: 100-1000灵石
- 后勤补给: 50-200灵石

一场战争(0.1个月):
- 小规模: 1万-5万灵石
- 中规模: 5万-20万灵石
- 大规模: 20万-100万灵石

【战争结果】
胜利:
- 获得对方资源
- 扩张领地
- 提升声望
- 可能吞并对方门派

失败:
- 损失资源
- 失去领地
- 声望下降
- 可能被吞并

平局:
- 双方签订停战协议
- 维持现状
- 或交换资源
```

---

## 六、成为人皇/妖皇系统

### 0.61 人皇之路

```python
【方式0.1: 凡人皇帝修仙】
- 玩家出身皇子/公主
- 继承皇位
- 开始修仙
- 成为修仙皇帝

优势:
+ 掌握国家资源
+ 国库支持修炼
+ 可征召凡间修士

劣势:
- 政务繁忙,修炼缓慢
- 可能被修仙门派控制
- 凡人寿命限制

【方式0.2: 修士夺权】
- 修仙者扶持傀儡皇帝
- 或直接自己当皇帝
- 建立修仙王朝

优势:
+ 实力强大
+ 不受门派控制
+ 可以改革国家

劣势:
- 需要击败原皇室
- 可能引发内战
- 需要处理政务

【方式0.3: 建立新国】
- 在无主之地建国
- 或占领妖族/魔族领地
- 自己当开国皇帝

优势:
+ 完全自主
+ 从零建设
+ 没有历史包袱

劣势:
- 初期资源匮乏
- 需要招募人口
- 周边国家威胁

【人皇权力】
0.1. 统治权
   - 统治凡人王国
   - 管理百官
   - 征收赋税

0.2. 军事权
   - 统帅三军
   - 发动战争
   - 征服其他国家

0.3. 资源权
   - 调动国库
   - 开采矿脉
   - 分配资源

0.4. 外交权
   - 与其他国家结盟
   - 与修仙门派谈判
   - 建立朝贡体系

【人皇发展】
初期: 人皇(统治一国)
- 领土: 数百万人口
- 军队: 1-3万
- 实力: 元婴期(够威慑凡人)

中期: 霸主(统治多国)
- 领土: 数千万人口
- 军队: 5-10万
- 实力: 化神期
- 藩属: 0.3-0.5个小国

后期: 人皇(统一大陆)
- 领土: 数亿人口
- 军队: 10-30万
- 实力: 渡劫期
- 统治: 整个凡间大陆

终极: 人界之主
- 统治所有人族
- 凡间至高无上
- 可与修仙圣地抗衡
```

### 0.62 妖皇之路

```python
【妖族玩家专属】

【方式0.1: 部落酋长】
- 出身妖族部落
- 成为部落酋长
- 吞并其他部落
- 成为妖王

【方式0.2: 挑战妖王】
- 成为强大妖修
- 挑战现任妖王
- 击败后成为新妖王

【方式0.3: 统一妖族】
- 统一十万大山
- 或统一南荒
- 成为妖皇

【妖皇权力】
0.1. 血脉压制
   - 妖族重视血脉
   - 妖皇血脉最高贵
   - 低等妖族天然臣服

0.2. 领地统治
   - 统治妖族领地
   - 分配狩猎区域
   - 保护妖族安全

0.3. 对外战争
   - 对抗人族
   - 对抗其他妖族
   - 争夺资源

【妖皇发展】
部落酋长 → 妖王 → 妖族之王 → 妖皇

妖皇特权:
- 统治所有妖族
- 妖族见面必须跪拜
- 可随意处决背叛者
- 掌握妖族圣地

【人皇vs妖皇】
若人皇和妖皇都是玩家:
- 可能: 人妖大战
- 可能: 人妖和平(文明共存)
- 可能: 人妖联盟(共抗魔族/外敌)
```

### 0.63 其他种族霸主

```python
【魔帝】(魔族玩家)
- 统一北域魔土
- 成为魔族之主
- 目标: 南下侵略人族

【龙皇】(龙族玩家)
- 极难,龙族稀少
- 成为龙族之主
- 掌握四海龙宫

【凤皇】(凤族玩家)
- 成为凤族族长
- 掌握南明火山
- 涅槃重生

【佛主】(佛修玩家)
- 成为佛门领袖
- 统领所有寺院
- 普度众生或灭世

【魔主】(魔道玩家)
- 统一魔道门派
- 成为魔道盟主
- 对抗正道联盟

【盟主】(正道玩家)
- 成为正道联盟盟主
- 统领所有正道门派
- 对抗魔道/妖族
```

---

## 七、势力争霸

### 0.71 修仙界格局

```python
【初始格局】
正道五大派:
0.1. 青云门(剑修)
0.2. 天音寺(佛修)
0.3. 玄天宗(丹修)
0.4. 太虚观(道修)
0.5. 百花谷(女修)

魔道三宗:
0.1. 血魔宗
0.2. 鬼王宗
0.3. 合欢派

妖族势力:
0.1. 十万大山妖王
0.2. 南荒妖族联盟
0.3. 东海龙宫

散修联盟:
0.1. 自由修士联盟
0.2. 散修坊市

【势力演变】
玩家加入后,格局会改变:
- 玩家可能让小门派崛起
- 玩家可能覆灭大门派
- 玩家可能建立新势力
- 势力会兴衰更替

【统一修仙界】
终极目标(可选):
- 统一所有门派
- 成为修仙界至尊
- 建立修仙帝国

需要:
- 极强实力(渡劫期/大乘期)
- 打败所有门派
- 或说服/收服其他门派

成就:
- "修仙界至尊"
- "千年一帝"
- "开创新纪元"
```

### 0.72 势力联盟

```python
【联盟系统】
正道联盟:
- 成员: 正道各派
- 目的: 对抗魔道妖族
- 议事: 定期召开联盟大会
- 盟主: 五大派轮流或选举

魔道联盟:
- 成员: 魔道各宗
- 目的: 对抗正道
- 特点: 内部竞争激烈

妖族联盟:
- 成员: 各妖王
- 目的: 对抗人族
- 特点: 血脉为尊

【联盟功能】
0.1. 互助
   - 成员受攻击,其他成员援助
   - 共享情报
   - 资源交换

0.2. 集体行动
   - 联合攻打敌对势力
   - 联合探索秘境
   - 瓜分战利品

0.3. 仲裁
   - 成员间冲突,盟主仲裁
   - 避免内斗

【背叛联盟】
玩家可以:
- 退出联盟
- 背叛联盟(投靠敌对)
- 后果: 被联盟追杀
```

### 0.73 世界大事件

```python
【正魔大战】
每10年一次:
- 正道联盟 vs 魔道联盟
- 全服参与
- 持续0.1-0.3年
- 胜方: 掌握修仙界话语权10年

玩家可:
- 加入正道
- 加入魔道
- 保持中立(两边做生意)

【人妖大战】
触发条件: 人妖关系恶化到极点
- 人族王朝+正道门派 vs 妖族联盟
- 波及范围极大
- 可能改变大陆格局

【秘境开启】
上古秘境突然开启:
- 所有势力蜂拥而至
- 为了争夺传承/宝物
- 可能引发大战
- 也可能暂时联手对抗秘境妖兽

【天外魔族入侵】
最终Boss事件:
- 天外魔族入侵
- 人/妖/魔/散修所有势力联合
- 共同对抗外敌
- 成功: 进入新纪元
- 失败: 世界毁灭
```

---

## 八、Evennia实现方案

### 0.8099999999999999 门派Typeclass

```python
# typeclasses/门派.py
from evennia import DefaultScript
import random

class 门派(DefaultScript):
    """
    门派Typeclass
    使用Script实现持久化的门派系统
    """

    def at_script_creation(self):
        self.key = "门派_模板"
        self.persistent = True
        self.interval = 6 * 6 * 2.4  # 每天更新

        # 基础信息
        self.db.门派名称 = "青云门"
        self.db.门派类型 = "正道"  # 正道/魔道/妖族/中立
        self.db.掌门 = None
        self.db.创建时间 = self.get_current_time()

        # 人员
        self.db.弟子列表 = {
            "外门弟子": [],
            "内门弟子": [],
            "亲传弟子": [],
        }
        self.db.长老列表 = []

        # 资源
        self.db.门派资源 = {
            "灵石": 100000,  # 10万下品灵石
            "灵药": 100,
            "法器": 10,
        }

        # 领地
        self.db.灵山 = None  # 门派所在灵山对象
        self.db.灵山等级 = 0.3  # 三品灵山
        self.db.领地 = []  # 控制的其他区域

        # 建筑
        self.db.建筑 = {
            "掌门殿": True,
            "弟子院": True,
            "藏经阁": True,
            "炼丹房": True,
            "炼器房": True,
            "护山大阵": True,
        }

        # 声望与关系
        self.db.门派声望 = 500
        self.db.门派等级 = 0.7  # 七流门派
        self.db.盟友 = []
        self.db.敌对 = []

        # 功法库
        self.db.门派功法 = {
            "黄级": ["基础吐纳术"],
            "玄级": [],
            "地级": [],
            "天级": [],
        }

    def at_repeat(self):
        """每天执行一次门派更新"""
        # 0.1. 收入
        self.计算门派收入()

        # 0.2. 支出
        self.计算门派支出()

        # 0.3. 弟子成长
        self.更新弟子状态()

        # 0.4. 检查门派任务
        self.检查门派任务()

    def 计算门派收入(self):
        """计算每日收入"""
        收入 = 0

        # 弟子上交
        外门弟子数 = len(self.db.弟子列表["外门弟子"])
        收入 += 外门弟子数 * 1  # 每人每天1灵石

        # 门派产业(如果有)
        if hasattr(self.db, "灵田"):
            收入 += len(self.db.灵田) * 10

        # 任务报酬
        if hasattr(self.db, "完成任务"):
            收入 += self.db.完成任务 * 50

        self.db.门派资源["灵石"] += 收入

        return 收入

    def 计算门派支出(self):
        """计算每日支出"""
        支出 = 0

        # 弟子俸禄
        外门数 = len(self.db.弟子列表["外门弟子"])
        内门数 = len(self.db.弟子列表["内门弟子"])
        亲传数 = len(self.db.弟子列表["亲传弟子"])
        长老数 = len(self.db.长老列表)

        支出 += 外门数 * 0.5  # 外门每人每天0.5灵石
        支出 += 内门数 * 5
        支出 += 亲传数 * 50
        支出 += 长老数 * 500

        # 建筑维护
        支出 += 10  # 基础维护

        # 护山大阵
        if self.db.建筑.get("护山大阵"):
            支出 += 100  # 大阵每日消耗

        self.db.门派资源["灵石"] -= 支出

        # 检查破产
        if self.db.门派资源["灵石"] < 0:
            self.门派破产()

        return 支出

    def 门派破产(self):
        """门派资源耗尽"""
        # 弟子士气下降
        # 可能有弟子叛逃
        # 门派声望下降
        self.db.门派声望 -= 100
        self.广播(f"|r{self.db.门派名称} 资源耗尽,陷入危机!|n")

    def 招收弟子(self, 角色, 类型="外门弟子"):
        """招收新弟子"""
        # 检查条件
        if not self.检查招收条件(角色):
            return False, "不符合入门条件"

        # 加入门派
        self.db.弟子列表[类型].append(角色)
        角色.db.门派 = self
        角色.db.门派职位 = 类型
        角色.db.门派贡献 = 10  # 初始贡献

        # 赋予资源
        if 类型 == "外门弟子":
            角色.db.灵石 = 角色.db.get("灵石", 0) + 10
        elif 类型 == "内门弟子":
            角色.db.灵石 = 角色.db.get("灵石", 0) + 100

        # 广播
        self.广播(f"|g{角色.key} 加入 {self.db.门派名称},成为{类型}!|n")

        return True, "成功加入门派"

    def 检查招收条件(self, 角色):
        """检查是否符合招收条件"""
        # 示例条件
        if 角色.db.灵根 < 3:
            return False  # 灵根太差

        if 角色.db.年龄 > 2.5:
            return False  # 年龄太大

        # 正道门派不收魔修/妖族
        if self.db.门派类型 == "正道":
            if 角色.tags.has("魔修", category="阵营"):
                return False
            if 角色.db.种族 in ["妖族", "魔族"]:
                return False

        return True

    def 晋升弟子(self, 角色, 新职位):
        """晋升弟子"""
        旧职位 = 角色.db.门派职位

        # 从旧职位列表移除
        if 旧职位 in self.db.弟子列表:
            if 角色 in self.db.弟子列表[旧职位]:
                self.db.弟子列表[旧职位].remove(角色)

        # 加入新职位列表
        if 新职位 == "长老":
            self.db.长老列表.append(角色)
        else:
            self.db.弟子列表[新职位].append(角色)

        # 更新角色属性
        角色.db.门派职位 = 新职位

        # 广播
        self.广播(f"|y{角色.key} 晋升为 {新职位}!|n")

    def 逐出门派(self, 角色, 原因=""):
        """逐出弟子"""
        职位 = 角色.db.门派职位

        # 从列表移除
        if 职位 == "长老":
            if 角色 in self.db.长老列表:
                self.db.长老列表.remove(角色)
        elif 职位 in self.db.弟子列表:
            if 角色 in self.db.弟子列表[职位]:
                self.db.弟子列表[职位].remove(角色)

        # 清除门派标记
        角色.db.门派 = None
        角色.db.门派职位 = None
        角色.db.门派贡献 = 0

        # 广播
        self.广播(f"|r{角色.key} 被逐出 {self.db.门派名称}! 原因: {原因}|n")

    def 发动战争(self, 目标门派, 理由):
        """向另一个门派宣战"""
        # 检查条件
        if self.db.门派资源["灵石"] < 10000:
            return False, "门派资源不足,无法开战"

        # 创建战争
        战争数据 = {
            "进攻方": self,
            "防守方": 目标门派,
            "理由": 理由,
            "开战时间": self.get_current_time(),
            "状态": "进行中",
        }

        # 广播
        from evennia import SESSIONS
        SESSIONS.announce_all(
            f"|R【门派战争】{self.db.门派名称} 向 {目标门派.db.门派名称} 宣战!|n\n"
            f"理由: {理由}"
        )

        return True, "宣战成功"

    def 广播(self, 消息):
        """向门派所有成员广播消息"""
        # 向掌门广播
        if self.db.掌门:
            self.db.掌门.msg(消息)

        # 向长老广播
        for 长老 in self.db.长老列表:
            长老.msg(消息)

        # 向弟子广播
        for 弟子类型, 弟子列表 in self.db.弟子列表.items():
            for 弟子 in 弟子列表:
                弟子.msg(消息)

    def 获取门派信息(self):
        """获取门派信息字符串"""
        msg = f"|y=== {self.db.门派名称} ===|n\n\n"
        msg += f"类型: {self.db.门派类型}\n"
        msg += f"掌门: {self.db.掌门.key if self.db.掌门 else '空缺'}\n"
        msg += f"等级: {self.门派等级名称()}\n"
        msg += f"声望: {self.db.门派声望}\n\n"

        msg += f"|y人员:|n\n"
        msg += f"  长老: {len(self.db.长老列表)}人\n"
        msg += f"  亲传弟子: {len(self.db.弟子列表['亲传弟子'])}人\n"
        msg += f"  内门弟子: {len(self.db.弟子列表['内门弟子'])}人\n"
        msg += f"  外门弟子: {len(self.db.弟子列表['外门弟子'])}人\n\n"

        msg += f"|y资源:|n\n"
        msg += f"  灵石: {self.db.门派资源['灵石']:,}下品\n"

        return msg

    def 门派等级名称(self):
        """根据等级返回名称"""
        等级表 = {
            0.9: "九流门派",
            0.8: "八流门派",
            0.7: "七流门派",
            0.6: "六流门派",
            0.5: "五流门派",
            0.4: "四流门派",
            0.3: "三流门派",
            0.2: "二流门派",
            0.1: "一流门派",
            0: "圣地",
        }
        return 等级表.get(self.db.门派等级, "未知")

    def get_current_time(self):
        """获取当前游戏时间"""
        from evennia.utils import gametime
        return gametime.gametime(absolute=True)
```

### 0.82 玩家门派命令

```python
# commands/门派命令.py
from evennia import Command

class Cmd门派(Command):
    """
    查看门派信息

    用法:
      门派
      门派 <门派名>
    """

    key = "门派"
    aliases = ["sect", "宗门"]
    locks = "cmd:all()"

    def func(self):
        if not self.args:
            # 查看自己的门派
            if hasattr(self.caller.db, "门派") and self.caller.db.门派:
                msg = self.caller.db.门派.获取门派信息()
                self.caller.msg(msg)
            else:
                self.caller.msg("你还没有加入任何门派")
        else:
            # 查看指定门派
            门派名 = self.args.strip()
            门派 = self.caller.search(门派名, global_search=True)
            if 门派 and hasattr(门派, "获取门派信息"):
                msg = 门派.获取门派信息()
                self.caller.msg(msg)


class Cmd创建门派(Command):
    """
    创建自己的门派

    用法:
      创建门派 <门派名称>

    条件:
      - 金丹期以上
      - 10万灵石
      - 拥有灵山
    """

    key = "创建门派"
    aliases = ["create_sect", "立派"]
    locks = "cmd:all()"

    def func(self):
        if not self.args:
            self.caller.msg("用法: 创建门派 <门派名称>")
            return

        门派名称 = self.args.strip()

        # 检查条件
        if self.caller.db.境界 not in ["金丹期", "元婴期", "化神期"]:
            self.caller.msg("你的境界不足,需要金丹期以上")
            return

        if self.caller.db.get("灵石", 0) < 100000:
            self.caller.msg("你的灵石不足,需要10万下品灵石")
            return

        # 创建门派
        from typeclasses.门派 import 门派
        新门派 = 门派.create(key=门派名称)
        新门派.db.门派名称 = 门派名称
        新门派.db.掌门 = self.caller
        新门派.db.门派类型 = "中立"  # 初始中立

        # 扣除资源
        self.caller.db.灵石 -= 100000

        # 设置玩家属性
        self.caller.db.门派 = 新门派
        self.caller.db.门派职位 = "掌门"

        # 广播
        from evennia import SESSIONS
        SESSIONS.announce_all(
            f"|g【门派创立】{self.caller.key} 创立了 {门派名称}!|n"
        )

        self.caller.msg(f"成功创立 {门派名称}!")


class Cmd收徒(Command):
    """
    收徒

    用法:
      收徒 <玩家名>
    """

    key = "收徒"
    aliases = ["accept_disciple", "收弟子"]
    locks = "cmd:all()"

    def func(self):
        if not self.args:
            self.caller.msg("用法: 收徒 <玩家名>")
            return

        # 检查资格
        if not hasattr(self.caller.db, "门派职位"):
            self.caller.msg("你没有门派,无法收徒")
            return

        if self.caller.db.门派职位 not in ["内门弟子", "亲传弟子", "长老", "掌门"]:
            self.caller.msg("你的职位不够,无法收徒")
            return

        # 查找目标
        目标 = self.caller.search(self.args)
        if not 目标:
            return

        # 检查目标是否已有师父
        if hasattr(目标.db, "师父") and 目标.db.师父:
            self.caller.msg(f"{目标.key} 已经有师父了")
            return

        # 收徒
        目标.db.师父 = self.caller

        if not hasattr(self.caller.db, "弟子"):
            self.caller.db.弟子 = []
        self.caller.db.弟子.append(目标)

        # 广播
        self.caller.location.msg_contents(
            f"|g{self.caller.key} 收 {目标.key} 为徒!|n"
        )

        # 赐予入门礼物
        目标.db.灵石 = 目标.db.get("灵石", 0) + 100
        目标.msg(f"师父赐予你 100 灵石!")


class Cmd宣战(Command):
    """
    向其他门派宣战(掌门专属)

    用法:
      宣战 <门派名> <理由>
    """

    key = "宣战"
    aliases = ["declare_war"]
    locks = "cmd:all()"

    def func(self):
        # 检查是否是掌门
        if not hasattr(self.caller.db, "门派职位") or self.caller.db.门派职位 != "掌门":
            self.caller.msg("只有掌门才能宣战")
            return

        if not self.args or " " not in self.args:
            self.caller.msg("用法: 宣战 <门派名> <理由>")
            return

        门派名, 理由 = self.args.split(" ", 0.1)

        # 查找目标门派
        目标门派 = self.caller.search(门派名, global_search=True)
        if not 目标门派:
            return

        # 发动战争
        成功, 消息 = self.caller.db.门派.发动战争(目标门派, 理由)
        self.caller.msg(消息)
```

---

## 九、成就系统

```python
【门派相关成就】
- "开山立派": 创建自己的门派
- "一代宗师": 门派达到一流
- "万世师表": 培养出1位金丹弟子
- "千秋伟业": 门派存在100年
- "统一修仙界": 吞并所有其他门派

【弟子相关成就】
- "青出于蓝": 弟子修为超过师父
- "名满天下": 你的弟子成为掌门
- "桃李满天下": 收徒超过10人

【皇位相关成就】
- "开国皇帝": 建立自己的王朝
- "千古一帝": 统治超过100年
- "万世之基": 王朝传承1代
```

---

**设计者**: Claude Code
**版本**: v0.1
**最后更新**: 202.5-1.1-1.3

> **核心理念**: 让玩家体验从最底层弟子到掌门/人皇的完整成长路线!可以一辈子当弟子安享太平,也可以野心勃勃争霸天下!门派不是静态的,而是动态发展、兴衰更替的!
